(function(ft){typeof define=="function"&&define.amd?define(ft):ft()})(function(){"use strict";function ft(b){return b&&b.__esModule&&Object.prototype.hasOwnProperty.call(b,"default")?b.default:b}var pt={exports:{}},Tt;function Vt(){return Tt||(Tt=1,function(b,E){(function(C,R){b.exports=R()})(self,()=>(()=>{var M={6058:(r,i,t)=>{t(4185),Object.defineProperty(i,"__esModule",{value:!0}),i.default=e,t(6031);function e(n){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6e3,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,s=window,c=document,v="script",d=null,f=function(p){s.clearTimeout(d),typeof n=="function"&&n(p)};if(s.google&&s.google.ima)return f(!0);var h=c.getElementsByTagName(v)[0],l=c.createElement(v);l.src="https://imasdk.googleapis.com/js/sdkloader/ima3"+(a?"_debug":"")+".js",l.async=!0,typeof n=="function"&&(l.onload=function(){f(!0)}),h.parentNode.insertBefore(l,h),o&&(d=s.setTimeout(function(){f(!1)},o))}},3772:(r,i,t)=>{t(2675),t(9463),t(2259),t(3792),t(4185),t(6099),t(7764),t(2953),Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0,t(5700),t(9572),t(2892),t(6031);var e=t(5948),n=o(t(9880));function o(h){return h&&h.__esModule?h:{default:h}}function a(h){"@babel/helpers - typeof";return a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(l){return typeof l}:function(l){return l&&typeof Symbol=="function"&&l.constructor===Symbol&&l!==Symbol.prototype?"symbol":typeof l},a(h)}function s(h,l){if(!(h instanceof l))throw new TypeError("Cannot call a class as a function")}function c(h,l){for(var u=0;u<l.length;u++){var p=l[u];p.enumerable=p.enumerable||!1,p.configurable=!0,"value"in p&&(p.writable=!0),Object.defineProperty(h,d(p.key),p)}}function v(h,l,u){return l&&c(h.prototype,l),u&&c(h,u),Object.defineProperty(h,"prototype",{writable:!1}),h}function d(h){var l=f(h,"string");return a(l)=="symbol"?l:l+""}function f(h,l){if(a(h)!="object"||!h)return h;var u=h[Symbol.toPrimitive];if(u!==void 0){var p=u.call(h,l);if(a(p)!="object")return p;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(h)}i.default=function(){function h(l){s(this,h),this._configure(l),this._evt=new n.default,this._adRequesting=!1,this._adRequested=!1,this._o.vpaidMode&&google.ima.settings.setVpaidMode(this._resolvedVpaidMode),this._o.locale&&google.ima.settings.setLocale(this._o.locale),this._adDisplayContainer=new google.ima.AdDisplayContainer(this._o.displayContainer,this._o.video,this._o.clickTracking),this._adDisplayContainerInit=!1}return v(h,[{key:"_configure",value:function(u){this._o={displayContainer:u.displayContainer,video:u.video,tag:u.tag},u.vpaidMode&&(this._o.vpaidMode=(0,e.makeNum)(u.vpaidMode,void 0)),u.maxDuration&&(this._o.maxDuration=(0,e.makeNum)(u.maxDuration,void 0)),this._o.locale=u.locale,this._o.clickTracking=u.clickTracking,this._o.adsRequestOptions=u.adsRequestOptions,this._o.adsRenderingOptions=u.adsRenderingOptions,this._o.nonLinearMaxDuration=(0,e.makeNum)(u.nonLinearMaxDuration,-1),this._o.adWillAutoPlay=!!(0,e.makeDefault)(u.adWillAutoPlay,!0),this._o.adWillPlayMuted=!!(0,e.makeDefault)(u.adWillPlayMuted,!1),this._o.continuousPlayback=u.continuousPlayback,this._o.restoreVideo=!!(0,e.makeDefault)(u.restoreVideo,!1)}},{key:"_setProperties",value:function(u,p){for(var y in p)typeof u[y]<"u"&&(u[y]=p[y])}},{key:"_resolvedVpaidMode",get:function(){return this._o.vpaidMode===h.vpaidMode.DISABLED?google.ima.ImaSdkSettings.VpaidMode.DISABLED:this._o.vpaidMode===h.vpaidMode.INSECURE?google.ima.ImaSdkSettings.VpaidMode.INSECURE:google.ima.ImaSdkSettings.VpaidMode.ENABLED}},{key:"on",value:function(u,p){this._evt.subscribe(u,p)}},{key:"off",value:function(u){var p=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;p===null?this._evt.unsubscribeAll(u):this._evt.unsubscribe(u,p)}},{key:"play",value:function(){this._dispatch("ad_play_intent"),this._adPlayIntent=!0,this.initAdDisplayContainer(),this._requestAd()}},{key:"request",value:function(u){this._dispatch("ad_request_intent",u),this._requestAd(u)}},{key:"resize",value:function(u,p){var y=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null;this._adsManager&&(y||(y=google.ima.ViewMode.NORMAL),this._adsManager.resize(u,p,y))}},{key:"setVolume",value:function(u){this._adsManager&&this._adsManager.setVolume(u)}},{key:"getVolume",value:function(){return this._adsManager?this._adsManager.getVolume():null}},{key:"discardAdBreak",value:function(){this._adsManager&&this._adsManager.discardAdBreak()}},{key:"pause",value:function(){this._adsManager&&this._adsManager.pause()}},{key:"resume",value:function(){this._adsManager&&this._adsManager.resume()}},{key:"skip",value:function(){this._adsManager&&this._adsManager.skip()}},{key:"updateAdsRenderingSettings",value:function(u){this._adsManager&&this._adsManager.updateAdsRenderingSettings(u)}},{key:"configureAdsManager",value:function(u,p){this._adsManager&&this._adsManager.configureAdsManager(u,p)}},{key:"focus",value:function(){this._adsManager&&this._adsManager.focus()}},{key:"getDisplayContainer",value:function(){return this._o.displayContainer}},{key:"getCuePoints",value:function(){return this._adsManager?this._adsManager.getCuePoints():null}},{key:"getAdSkippableState",value:function(){return this._adsManager?this._adsManager.getAdSkippableState():null}},{key:"getRemainingTime",value:function(){return this._adsManager?this._adsManager.getRemainingTime():null}},{key:"isCustomClickTrackingUsed",value:function(){return this._adsManager?this._adsManager.isCustomClickTrackingUsed():null}},{key:"isCustomPlaybackUsed",value:function(){return this._adsManager?this._adsManager.isCustomPlaybackUsed():null}},{key:"setAdWillAutoPlay",value:function(u){this._o.adWillAutoPlay=u}},{key:"setAdWillPlayMuted",value:function(u){this._o.adWillPlayMuted=u}},{key:"setContinuousPlayback",value:function(u){this._o.continuousPlayback=u}},{key:"stop",value:function(){this._dispatch("ad_stop_intent"),this._stop()}},{key:"ended",value:function(){this._adsLoader&&this._adsLoader.contentComplete()}},{key:"initAdDisplayContainer",value:function(){this._adDisplayContainerInit||(this._adDisplayContainer.initialize(),this._adDisplayContainerInit=!0)}},{key:"destroy",value:function(){var u=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;this._adsManager&&this._adsManager.stop(),this._endAd(),u&&this._evt.unsubscribeAll(),this._destroyAdsManager(),this._destroyAdsLoader(),this._destroyAdDisplayContainer(),this._destroyOptions()}},{key:"_destroyAdsLoader",value:function(){this._adsLoader&&(this._adsLoader.destroy(),this._adsLoader=null,delete this._adsLoader)}},{key:"_destroyAdsManager",value:function(){this._adsManager&&(this._adsManager.destroy(),this._adsManager=null,delete this._adsManager)}},{key:"_destroyAdDisplayContainer",value:function(){this._adDisplayContainer&&(this._adDisplayContainer.destroy(),this._adDisplayContainer=null,delete this._adDisplayContainer)}},{key:"_destroyOptions",value:function(){this._o=null,delete this._o}},{key:"_stop",value:function(){this._dispatch("ad_stop"),this._adsManager?this._adsManager.stop():this._endAd()}},{key:"_makeAdsLoader",value:function(){var u=this;this._adsLoader=new google.ima.AdsLoader(this._adDisplayContainer),this._adsLoader.addEventListener(google.ima.AdsManagerLoadedEvent.Type.ADS_MANAGER_LOADED,function(p){u._onAdsManagerLoaded(p)}),this._adsLoader.addEventListener(google.ima.AdErrorEvent.Type.AD_ERROR,function(p){u._adRequested=!1,u._onAdError(p)})}},{key:"_requestAd",value:function(u){if(!this._adRequesting){if(this._adRequested){this._adPlayIntent&&this._playAd();return}this._adRequesting=!0,this._adsLoader||this._makeAdsLoader();var p=new google.ima.AdsRequest;p.adTagUrl=this._o.tag,p.linearAdSlotWidth=this._o.video.offsetWidth,p.linearAdSlotHeight=this._o.video.offsetHeight,p.nonLinearAdSlotWidth=this._o.video.offsetWidth,p.nonLinearAdSlotHeight=this._o.video.offsetHeight,p.setAdWillAutoPlay(this._o.adWillAutoPlay),p.setAdWillPlayMuted(this._o.adWillPlayMuted),this._o.continuousPlayback!==void 0&&p.setContinuousPlayback(this._o.continuousPlayback);var y=u||this._o.adsRequestOptions;y&&this._setProperties(p,y),this._dispatch("ad_request",p),this._adsLoader.requestAds(p)}}},{key:"_bindAdsManagerEvents",value:function(){var u=this;this._adsManager.addEventListener(google.ima.AdErrorEvent.Type.AD_ERROR,function(O){u._onAdError(O)}),this._adsManager.addEventListener(google.ima.AdEvent.Type.CONTENT_PAUSE_REQUESTED,function(O){u._adEnded=!1,u._dispatch("content_pause_requested",O),u._dispatch("ad_begin")}),this._adsManager.addEventListener(google.ima.AdEvent.Type.CONTENT_RESUME_REQUESTED,function(O){u._dispatch("content_resume_requested",O),u._endAd()}),this._adsManager.addEventListener(google.ima.AdEvent.Type.STARTED,function(O){u._dispatch("started",O);var P=O.getAd();if(P.isLinear())u._o.maxDuration&&u._startMaxDurationTimer();else{var x=u._o.nonLinearMaxDuration;u._dispatch("ad_non_linear",{ad:P,duration:x}),u._o.nonLinearMaxDuration>0&&setTimeout(function(){u._adsManager&&u._adsManager.stop()},u._o.nonLinearMaxDuration),u._endAd()}}),this._adsManager.addEventListener(google.ima.AdEvent.Type.ALL_ADS_COMPLETED,function(O){u._adRequested=!1,u._dispatch("all_ads_completed",O)});var p={ad_break_ready:google.ima.AdEvent.Type.AD_BREAK_READY,ad_buffering:google.ima.AdEvent.Type.AD_BUFFERING,ad_metadata:google.ima.AdEvent.Type.AD_METADATA,ad_progress:google.ima.AdEvent.Type.AD_PROGRESS,click:google.ima.AdEvent.Type.CLICK,complete:google.ima.AdEvent.Type.COMPLETE,duration_change:google.ima.AdEvent.Type.DURATION_CHANGE,first_quartile:google.ima.AdEvent.Type.FIRST_QUARTILE,impression:google.ima.AdEvent.Type.IMPRESSION,interaction:google.ima.AdEvent.Type.INTERACTION,linear_changed:google.ima.AdEvent.Type.LINEAR_CHANGED,loaded:google.ima.AdEvent.Type.LOADED,log:google.ima.AdEvent.Type.LOG,midpoint:google.ima.AdEvent.Type.MIDPOINT,paused:google.ima.AdEvent.Type.PAUSED,resumed:google.ima.AdEvent.Type.RESUMED,skippable_state_changed:google.ima.AdEvent.Type.SKIPPABLE_STATE_CHANGED,skipped:google.ima.AdEvent.Type.SKIPPED,third_quartile:google.ima.AdEvent.Type.THIRD_QUARTILE,user_close:google.ima.AdEvent.Type.USER_CLOSE,video_clicked:google.ima.AdEvent.Type.VIDEO_CLICKED,video_icon_clicked:google.ima.AdEvent.Type.VIDEO_ICON_CLICKED,volume_changed:google.ima.AdEvent.Type.VOLUME_CHANGED,volume_muted:google.ima.AdEvent.Type.VOLUME_MUTED};google.ima.AdEvent.Type.AD_CAN_PLAY&&(p.ad_can_play=google.ima.AdEvent.Type.AD_CAN_PLAY),google.ima.AdEvent.Type.VIEWABLE_IMPRESSION&&(p.viewable_impression=google.ima.AdEvent.Type.VIEWABLE_IMPRESSION);var y=function(P){u._adsManager.addEventListener(p[P],function(x){u._dispatch(P,x)})};for(var g in p)y(g)}},{key:"_onAdsManagerLoaded",value:function(u){this._dispatch("ads_manager_loaded",u);var p=new google.ima.AdsRenderingSettings;p.restoreCustomPlaybackStateOnAdBreakComplete=this._o.restoreVideo,this._o.adsRenderingOptions&&this._setProperties(p,this._o.adsRenderingOptions),this._dispatch("ads_rendering_settings",p),this._destroyAdsManager(),this._adsManager=u.getAdsManager(this._o.video,p),this._bindAdsManagerEvents(),this._dispatch("ads_manager",this._adsManager),this._adRequesting=!1,this._adRequested=!0,this._adPlayIntent&&this._playAd()}},{key:"_onMaxDuration",value:function(){this._dispatch("error",new Error("Maximum duration of "+this._o.maxDuration+" ms reached")),this._stop()}},{key:"_startMaxDurationTimer",value:function(){var u=this;this._maxDurationTimer=setTimeout(function(){u._onMaxDuration()},this._o.maxDuration)}},{key:"_resetMaxDurationTimer",value:function(){typeof this._maxDurationTimer=="number"&&(clearTimeout(this._maxDurationTimer),this._maxDurationTimer=void 0)}},{key:"_onAdError",value:function(u){this._dispatch("ad_error",u),this._endAd()}},{key:"_playAd",value:function(){try{this._dispatch("ad_play"),this._adEnded=!1,this._adsManager.init(this._o.video.offsetWidth,this._o.video.offsetHeight,google.ima.ViewMode.NORMAL),this._adsManager.start()}catch(u){this._dispatch("error",u),this._endAd()}}},{key:"_dispatch",value:function(u,p){this._evt.notify(u,{name:u,data:p,target:this})}},{key:"_endAd",value:function(){this._adEnded||(this._adEnded=!0,this._adPlayIntent=!1,this._adRequesting=!1,this._resetMaxDurationTimer(),this._dispatch("ad_end"))}}],[{key:"vpaidMode",get:function(){return{DISABLED:0,ENABLED:1,INSECURE:2}}}])}()},9880:(r,i,t)=>{t(2675),t(9463),t(2259),t(3792),t(4185),t(7764),t(2953),Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0,t(5700),t(1629),t(5276),t(4554),t(9572),t(2892),t(6099),t(3500);function e(v){"@babel/helpers - typeof";return e=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(d){return typeof d}:function(d){return d&&typeof Symbol=="function"&&d.constructor===Symbol&&d!==Symbol.prototype?"symbol":typeof d},e(v)}function n(v,d){if(!(v instanceof d))throw new TypeError("Cannot call a class as a function")}function o(v,d){for(var f=0;f<d.length;f++){var h=d[f];h.enumerable=h.enumerable||!1,h.configurable=!0,"value"in h&&(h.writable=!0),Object.defineProperty(v,s(h.key),h)}}function a(v,d,f){return d&&o(v.prototype,d),Object.defineProperty(v,"prototype",{writable:!1}),v}function s(v){var d=c(v,"string");return e(d)=="symbol"?d:d+""}function c(v,d){if(e(v)!="object"||!v)return v;var f=v[Symbol.toPrimitive];if(f!==void 0){var h=f.call(v,d);if(e(h)!="object")return h;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(v)}i.default=function(){function v(){n(this,v),this.unsubscribeAll()}return a(v,[{key:"subscribe",value:function(f,h){this.observers[f]||(this.observers[f]=[]),this.observers[f].push(h)}},{key:"unsubscribe",value:function(f,h){if(this.observers[f]){var l=this.observers[f].indexOf(h);l!=-1&&this.observers[f].splice(l,1)}}},{key:"unsubscribeAll",value:function(){var f=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null;f===null?(this.observers=null,this.observers={}):this.observers[f]&&(this.observers[f]=null,delete this.observers[f])}},{key:"notify",value:function(f,h){this.observers[f]&&this.observers[f].forEach(function(l){return l(h)})}}])}()},5948:(r,i,t)=>{t(4185),Object.defineProperty(i,"__esModule",{value:!0}),i.isNumeric=e,i.makeDefault=o,i.makeNum=n,t(8459);function e(a){return!isNaN(parseFloat(a))&&isFinite(a)}function n(a,s){return e(a)?a+0:s}function o(a,s){return a===void 0?s:a}},9306:(r,i,t)=>{var e=t(4901),n=t(6823),o=TypeError;r.exports=function(a){if(e(a))return a;throw new o(n(a)+" is not a function")}},3506:(r,i,t)=>{var e=t(3925),n=String,o=TypeError;r.exports=function(a){if(e(a))return a;throw new o("Can't set "+n(a)+" as a prototype")}},6469:(r,i,t)=>{var e=t(8227),n=t(2360),o=t(4913).f,a=e("unscopables"),s=Array.prototype;s[a]===void 0&&o(s,a,{configurable:!0,value:n(null)}),r.exports=function(c){s[a][c]=!0}},8551:(r,i,t)=>{var e=t(34),n=String,o=TypeError;r.exports=function(a){if(e(a))return a;throw new o(n(a)+" is not an object")}},5652:(r,i,t)=>{var e=t(9039);r.exports=e(function(){if(typeof ArrayBuffer=="function"){var n=new ArrayBuffer(8);Object.isExtensible(n)&&Object.defineProperty(n,"a",{value:8})}})},235:(r,i,t)=>{var e=t(9213).forEach,n=t(4598),o=n("forEach");r.exports=o?[].forEach:function(s){return e(this,s,arguments.length>1?arguments[1]:void 0)}},9617:(r,i,t)=>{var e=t(5397),n=t(5610),o=t(6198),a=function(s){return function(c,v,d){var f=e(c),h=o(f);if(h===0)return!s&&-1;var l=n(d,h),u;if(s&&v!==v){for(;h>l;)if(u=f[l++],u!==u)return!0}else for(;h>l;l++)if((s||l in f)&&f[l]===v)return s||l||0;return!s&&-1}};r.exports={includes:a(!0),indexOf:a(!1)}},9213:(r,i,t)=>{var e=t(6080),n=t(9504),o=t(7055),a=t(8981),s=t(6198),c=t(1469),v=n([].push),d=function(f){var h=f===1,l=f===2,u=f===3,p=f===4,y=f===6,g=f===7,O=f===5||y;return function(P,x,m,T){for(var S=a(P),I=o(S),L=s(I),W=e(x,m),A=0,D=T||c,B=h?D(P,L):l||g?D(P,0):void 0,$,X;L>A;A++)if((O||A in I)&&($=I[A],X=W($,A,S),f))if(h)B[A]=X;else if(X)switch(f){case 3:return!0;case 5:return $;case 6:return A;case 2:v(B,$)}else switch(f){case 4:return!1;case 7:v(B,$)}return y?-1:u||p?p:B}};r.exports={forEach:d(0),map:d(1),filter:d(2),some:d(3),every:d(4),find:d(5),findIndex:d(6),filterReject:d(7)}},597:(r,i,t)=>{var e=t(9039),n=t(8227),o=t(9519),a=n("species");r.exports=function(s){return o>=51||!e(function(){var c=[],v=c.constructor={};return v[a]=function(){return{foo:1}},c[s](Boolean).foo!==1})}},4598:(r,i,t)=>{var e=t(9039);r.exports=function(n,o){var a=[][n];return!!a&&e(function(){a.call(null,o||function(){return 1},1)})}},4527:(r,i,t)=>{var e=t(3724),n=t(4376),o=TypeError,a=Object.getOwnPropertyDescriptor,s=e&&!function(){if(this!==void 0)return!0;try{Object.defineProperty([],"length",{writable:!1}).length=1}catch(c){return c instanceof TypeError}}();r.exports=s?function(c,v){if(n(c)&&!a(c,"length").writable)throw new o("Cannot set read only .length");return c.length=v}:function(c,v){return c.length=v}},7680:(r,i,t)=>{var e=t(9504);r.exports=e([].slice)},7433:(r,i,t)=>{var e=t(4376),n=t(3517),o=t(34),a=t(8227),s=a("species"),c=Array;r.exports=function(v){var d;return e(v)&&(d=v.constructor,n(d)&&(d===c||e(d.prototype))?d=void 0:o(d)&&(d=d[s],d===null&&(d=void 0))),d===void 0?c:d}},1469:(r,i,t)=>{var e=t(7433);r.exports=function(n,o){return new(e(n))(o===0?0:o)}},2195:(r,i,t)=>{var e=t(9504),n=e({}.toString),o=e("".slice);r.exports=function(a){return o(n(a),8,-1)}},6955:(r,i,t)=>{var e=t(2140),n=t(4901),o=t(2195),a=t(8227),s=a("toStringTag"),c=Object,v=o(function(){return arguments}())==="Arguments",d=function(f,h){try{return f[h]}catch{}};r.exports=e?o:function(f){var h,l,u;return f===void 0?"Undefined":f===null?"Null":typeof(l=d(h=c(f),s))=="string"?l:v?o(h):(u=o(h))==="Object"&&n(h.callee)?"Arguments":u}},7740:(r,i,t)=>{var e=t(9297),n=t(5031),o=t(7347),a=t(4913);r.exports=function(s,c,v){for(var d=n(c),f=a.f,h=o.f,l=0;l<d.length;l++){var u=d[l];!e(s,u)&&!(v&&e(v,u))&&f(s,u,h(c,u))}}},2211:(r,i,t)=>{var e=t(9039);r.exports=!e(function(){function n(){}return n.prototype.constructor=null,Object.getPrototypeOf(new n)!==n.prototype})},2529:r=>{r.exports=function(i,t){return{value:i,done:t}}},6699:(r,i,t)=>{var e=t(3724),n=t(4913),o=t(6980);r.exports=e?function(a,s,c){return n.f(a,s,o(1,c))}:function(a,s,c){return a[s]=c,a}},6980:r=>{r.exports=function(i,t){return{enumerable:!(i&1),configurable:!(i&2),writable:!(i&4),value:t}}},4659:(r,i,t)=>{var e=t(3724),n=t(4913),o=t(6980);r.exports=function(a,s,c){e?n.f(a,s,o(0,c)):a[s]=c}},3640:(r,i,t)=>{var e=t(8551),n=t(4270),o=TypeError;r.exports=function(a){if(e(this),a==="string"||a==="default")a="string";else if(a!=="number")throw new o("Incorrect hint");return n(this,a)}},2106:(r,i,t)=>{var e=t(283),n=t(4913);r.exports=function(o,a,s){return s.get&&e(s.get,a,{getter:!0}),s.set&&e(s.set,a,{setter:!0}),n.f(o,a,s)}},6840:(r,i,t)=>{var e=t(4901),n=t(4913),o=t(283),a=t(9433);r.exports=function(s,c,v,d){d||(d={});var f=d.enumerable,h=d.name!==void 0?d.name:c;if(e(v)&&o(v,h,d),d.global)f?s[c]=v:a(c,v);else{try{d.unsafe?s[c]&&(f=!0):delete s[c]}catch{}f?s[c]=v:n.f(s,c,{value:v,enumerable:!1,configurable:!d.nonConfigurable,writable:!d.nonWritable})}return s}},9433:(r,i,t)=>{var e=t(4576),n=Object.defineProperty;r.exports=function(o,a){try{n(e,o,{value:a,configurable:!0,writable:!0})}catch{e[o]=a}return a}},4606:(r,i,t)=>{var e=t(6823),n=TypeError;r.exports=function(o,a){if(!delete o[a])throw new n("Cannot delete property "+e(a)+" of "+e(o))}},3724:(r,i,t)=>{var e=t(9039);r.exports=!e(function(){return Object.defineProperty({},1,{get:function(){return 7}})[1]!==7})},4055:(r,i,t)=>{var e=t(4576),n=t(34),o=e.document,a=n(o)&&n(o.createElement);r.exports=function(s){return a?o.createElement(s):{}}},6837:r=>{var i=TypeError,t=9007199254740991;r.exports=function(e){if(e>t)throw i("Maximum allowed index exceeded");return e}},7400:r=>{r.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}},9296:(r,i,t)=>{var e=t(4055),n=e("span").classList,o=n&&n.constructor&&n.constructor.prototype;r.exports=o===Object.prototype?void 0:o},8727:r=>{r.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},2839:(r,i,t)=>{var e=t(4576),n=e.navigator,o=n&&n.userAgent;r.exports=o?String(o):""},9519:(r,i,t)=>{var e=t(4576),n=t(2839),o=e.process,a=e.Deno,s=o&&o.versions||a&&a.version,c=s&&s.v8,v,d;c&&(v=c.split("."),d=v[0]>0&&v[0]<4?1:+(v[0]+v[1])),!d&&n&&(v=n.match(/Edge\/(\d+)/),(!v||v[1]>=74)&&(v=n.match(/Chrome\/(\d+)/),v&&(d=+v[1]))),r.exports=d},4215:(r,i,t)=>{var e=t(4576),n=t(2839),o=t(2195),a=function(s){return n.slice(0,s.length)===s};r.exports=function(){return a("Bun/")?"BUN":a("Cloudflare-Workers")?"CLOUDFLARE":a("Deno/")?"DENO":a("Node.js/")?"NODE":e.Bun&&typeof Bun.version=="string"?"BUN":e.Deno&&typeof Deno.version=="object"?"DENO":o(e.process)==="process"?"NODE":e.window&&e.document?"BROWSER":"REST"}()},6518:(r,i,t)=>{var e=t(4576),n=t(7347).f,o=t(6699),a=t(6840),s=t(9433),c=t(7740),v=t(2796);r.exports=function(d,f){var h=d.target,l=d.global,u=d.stat,p,y,g,O,P,x;if(l?y=e:u?y=e[h]||s(h,{}):y=e[h]&&e[h].prototype,y)for(g in f){if(P=f[g],d.dontCallGetSet?(x=n(y,g),O=x&&x.value):O=y[g],p=v(l?g:h+(u?".":"#")+g,d.forced),!p&&O!==void 0){if(typeof P==typeof O)continue;c(P,O)}(d.sham||O&&O.sham)&&o(P,"sham",!0),a(y,g,P,d)}}},9039:r=>{r.exports=function(i){try{return!!i()}catch{return!0}}},2744:(r,i,t)=>{var e=t(9039);r.exports=!e(function(){return Object.isExtensible(Object.preventExtensions({}))})},8745:(r,i,t)=>{var e=t(616),n=Function.prototype,o=n.apply,a=n.call;r.exports=typeof Reflect=="object"&&Reflect.apply||(e?a.bind(o):function(){return a.apply(o,arguments)})},6080:(r,i,t)=>{var e=t(7476),n=t(9306),o=t(616),a=e(e.bind);r.exports=function(s,c){return n(s),c===void 0?s:o?a(s,c):function(){return s.apply(c,arguments)}}},616:(r,i,t)=>{var e=t(9039);r.exports=!e(function(){var n=function(){}.bind();return typeof n!="function"||n.hasOwnProperty("prototype")})},9565:(r,i,t)=>{var e=t(616),n=Function.prototype.call;r.exports=e?n.bind(n):function(){return n.apply(n,arguments)}},350:(r,i,t)=>{var e=t(3724),n=t(9297),o=Function.prototype,a=e&&Object.getOwnPropertyDescriptor,s=n(o,"name"),c=s&&function(){}.name==="something",v=s&&(!e||e&&a(o,"name").configurable);r.exports={EXISTS:s,PROPER:c,CONFIGURABLE:v}},6706:(r,i,t)=>{var e=t(9504),n=t(9306);r.exports=function(o,a,s){try{return e(n(Object.getOwnPropertyDescriptor(o,a)[s]))}catch{}}},7476:(r,i,t)=>{var e=t(2195),n=t(9504);r.exports=function(o){if(e(o)==="Function")return n(o)}},9504:(r,i,t)=>{var e=t(616),n=Function.prototype,o=n.call,a=e&&n.bind.bind(o,o);r.exports=e?a:function(s){return function(){return o.apply(s,arguments)}}},7751:(r,i,t)=>{var e=t(4576),n=t(4901),o=function(a){return n(a)?a:void 0};r.exports=function(a,s){return arguments.length<2?o(e[a]):e[a]&&e[a][s]}},6933:(r,i,t)=>{var e=t(9504),n=t(4376),o=t(4901),a=t(2195),s=t(655),c=e([].push);r.exports=function(v){if(o(v))return v;if(n(v)){for(var d=v.length,f=[],h=0;h<d;h++){var l=v[h];typeof l=="string"?c(f,l):(typeof l=="number"||a(l)==="Number"||a(l)==="String")&&c(f,s(l))}var u=f.length,p=!0;return function(y,g){if(p)return p=!1,g;if(n(this))return g;for(var O=0;O<u;O++)if(f[O]===y)return g}}}},5966:(r,i,t)=>{var e=t(9306),n=t(4117);r.exports=function(o,a){var s=o[a];return n(s)?void 0:e(s)}},4576:function(r,i,t){var e=function(n){return n&&n.Math===Math&&n};r.exports=e(typeof globalThis=="object"&&globalThis)||e(typeof window=="object"&&window)||e(typeof self=="object"&&self)||e(typeof t.g=="object"&&t.g)||e(typeof this=="object"&&this)||function(){return this}()||Function("return this")()},9297:(r,i,t)=>{var e=t(9504),n=t(8981),o=e({}.hasOwnProperty);r.exports=Object.hasOwn||function(s,c){return o(n(s),c)}},421:r=>{r.exports={}},397:(r,i,t)=>{var e=t(7751);r.exports=e("document","documentElement")},5917:(r,i,t)=>{var e=t(3724),n=t(9039),o=t(4055);r.exports=!e&&!n(function(){return Object.defineProperty(o("div"),"a",{get:function(){return 7}}).a!==7})},7055:(r,i,t)=>{var e=t(9504),n=t(9039),o=t(2195),a=Object,s=e("".split);r.exports=n(function(){return!a("z").propertyIsEnumerable(0)})?function(c){return o(c)==="String"?s(c,""):a(c)}:a},3167:(r,i,t)=>{var e=t(4901),n=t(34),o=t(2967);r.exports=function(a,s,c){var v,d;return o&&e(v=s.constructor)&&v!==c&&n(d=v.prototype)&&d!==c.prototype&&o(a,d),a}},3706:(r,i,t)=>{var e=t(9504),n=t(4901),o=t(7629),a=e(Function.toString);n(o.inspectSource)||(o.inspectSource=function(s){return a(s)}),r.exports=o.inspectSource},3451:(r,i,t)=>{var e=t(6518),n=t(9504),o=t(421),a=t(34),s=t(9297),c=t(4913).f,v=t(8480),d=t(298),f=t(4124),h=t(3392),l=t(2744),u=!1,p=h("meta"),y=0,g=function(S){c(S,p,{value:{objectID:"O"+y++,weakData:{}}})},O=function(S,I){if(!a(S))return typeof S=="symbol"?S:(typeof S=="string"?"S":"P")+S;if(!s(S,p)){if(!f(S))return"F";if(!I)return"E";g(S)}return S[p].objectID},P=function(S,I){if(!s(S,p)){if(!f(S))return!0;if(!I)return!1;g(S)}return S[p].weakData},x=function(S){return l&&u&&f(S)&&!s(S,p)&&g(S),S},m=function(){T.enable=function(){},u=!0;var S=v.f,I=n([].splice),L={};L[p]=1,S(L).length&&(v.f=function(W){for(var A=S(W),D=0,B=A.length;D<B;D++)if(A[D]===p){I(A,D,1);break}return A},e({target:"Object",stat:!0,forced:!0},{getOwnPropertyNames:d.f}))},T=r.exports={enable:m,fastKey:O,getWeakData:P,onFreeze:x};o[p]=!0},1181:(r,i,t)=>{var e=t(8622),n=t(4576),o=t(34),a=t(6699),s=t(9297),c=t(7629),v=t(6119),d=t(421),f="Object already initialized",h=n.TypeError,l=n.WeakMap,u,p,y,g=function(m){return y(m)?p(m):u(m,{})},O=function(m){return function(T){var S;if(!o(T)||(S=p(T)).type!==m)throw new h("Incompatible receiver, "+m+" required");return S}};if(e||c.state){var P=c.state||(c.state=new l);P.get=P.get,P.has=P.has,P.set=P.set,u=function(m,T){if(P.has(m))throw new h(f);return T.facade=m,P.set(m,T),T},p=function(m){return P.get(m)||{}},y=function(m){return P.has(m)}}else{var x=v("state");d[x]=!0,u=function(m,T){if(s(m,x))throw new h(f);return T.facade=m,a(m,x,T),T},p=function(m){return s(m,x)?m[x]:{}},y=function(m){return s(m,x)}}r.exports={set:u,get:p,has:y,enforce:g,getterFor:O}},4376:(r,i,t)=>{var e=t(2195);r.exports=Array.isArray||function(o){return e(o)==="Array"}},4901:r=>{var i=typeof document=="object"&&document.all;r.exports=typeof i>"u"&&i!==void 0?function(t){return typeof t=="function"||t===i}:function(t){return typeof t=="function"}},3517:(r,i,t)=>{var e=t(9504),n=t(9039),o=t(4901),a=t(6955),s=t(7751),c=t(3706),v=function(){},d=s("Reflect","construct"),f=/^\s*(?:class|function)\b/,h=e(f.exec),l=!f.test(v),u=function(g){if(!o(g))return!1;try{return d(v,[],g),!0}catch{return!1}},p=function(g){if(!o(g))return!1;switch(a(g)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}try{return l||!!h(f,c(g))}catch{return!0}};p.sham=!0,r.exports=!d||n(function(){var y;return u(u.call)||!u(Object)||!u(function(){y=!0})||y})?p:u},2796:(r,i,t)=>{var e=t(9039),n=t(4901),o=/#|\.prototype\./,a=function(f,h){var l=c[s(f)];return l===d?!0:l===v?!1:n(h)?e(h):!!h},s=a.normalize=function(f){return String(f).replace(o,".").toLowerCase()},c=a.data={},v=a.NATIVE="N",d=a.POLYFILL="P";r.exports=a},4117:r=>{r.exports=function(i){return i==null}},34:(r,i,t)=>{var e=t(4901);r.exports=function(n){return typeof n=="object"?n!==null:e(n)}},3925:(r,i,t)=>{var e=t(34);r.exports=function(n){return e(n)||n===null}},6395:r=>{r.exports=!1},757:(r,i,t)=>{var e=t(7751),n=t(4901),o=t(1625),a=t(7040),s=Object;r.exports=a?function(c){return typeof c=="symbol"}:function(c){var v=e("Symbol");return n(v)&&o(v.prototype,s(c))}},3994:(r,i,t)=>{var e=t(7657).IteratorPrototype,n=t(2360),o=t(6980),a=t(687),s=t(6269),c=function(){return this};r.exports=function(v,d,f,h){var l=d+" Iterator";return v.prototype=n(e,{next:o(+!h,f)}),a(v,l,!1,!0),s[l]=c,v}},1088:(r,i,t)=>{var e=t(6518),n=t(9565),o=t(6395),a=t(350),s=t(4901),c=t(3994),v=t(2787),d=t(2967),f=t(687),h=t(6699),l=t(6840),u=t(8227),p=t(6269),y=t(7657),g=a.PROPER,O=a.CONFIGURABLE,P=y.IteratorPrototype,x=y.BUGGY_SAFARI_ITERATORS,m=u("iterator"),T="keys",S="values",I="entries",L=function(){return this};r.exports=function(W,A,D,B,$,X,Q){c(D,A,B);var Y=function(q){if(q===$&&z)return z;if(!x&&q&&q in K)return K[q];switch(q){case T:return function(){return new D(this,q)};case S:return function(){return new D(this,q)};case I:return function(){return new D(this,q)}}return function(){return new D(this)}},Z=A+" Iterator",U=!1,K=W.prototype,J=K[m]||K["@@iterator"]||$&&K[$],z=!x&&J||Y($),nt=A==="Array"&&K.entries||J,w,et,k;if(nt&&(w=v(nt.call(new W)),w!==Object.prototype&&w.next&&(!o&&v(w)!==P&&(d?d(w,P):s(w[m])||l(w,m,L)),f(w,Z,!0,!0),o&&(p[Z]=L))),g&&$===S&&J&&J.name!==S&&(!o&&O?h(K,"name",S):(U=!0,z=function(){return n(J,this)})),$)if(et={values:Y(S),keys:X?z:Y(T),entries:Y(I)},Q)for(k in et)(x||U||!(k in K))&&l(K,k,et[k]);else e({target:A,proto:!0,forced:x||U},et);return(!o||Q)&&K[m]!==z&&l(K,m,z,{name:$}),p[A]=z,et}},7657:(r,i,t)=>{var e=t(9039),n=t(4901),o=t(34),a=t(2360),s=t(2787),c=t(6840),v=t(8227),d=t(6395),f=v("iterator"),h=!1,l,u,p;[].keys&&(p=[].keys(),"next"in p?(u=s(s(p)),u!==Object.prototype&&(l=u)):h=!0);var y=!o(l)||e(function(){var g={};return l[f].call(g)!==g});y?l={}:d&&(l=a(l)),n(l[f])||c(l,f,function(){return this}),r.exports={IteratorPrototype:l,BUGGY_SAFARI_ITERATORS:h}},6269:r=>{r.exports={}},6198:(r,i,t)=>{var e=t(8014);r.exports=function(n){return e(n.length)}},283:(r,i,t)=>{var e=t(9504),n=t(9039),o=t(4901),a=t(9297),s=t(3724),c=t(350).CONFIGURABLE,v=t(3706),d=t(1181),f=d.enforce,h=d.get,l=String,u=Object.defineProperty,p=e("".slice),y=e("".replace),g=e([].join),O=s&&!n(function(){return u(function(){},"length",{value:8}).length!==8}),P=String(String).split("String"),x=r.exports=function(m,T,S){p(l(T),0,7)==="Symbol("&&(T="["+y(l(T),/^Symbol\(([^)]*)\).*$/,"$1")+"]"),S&&S.getter&&(T="get "+T),S&&S.setter&&(T="set "+T),(!a(m,"name")||c&&m.name!==T)&&(s?u(m,"name",{value:T,configurable:!0}):m.name=T),O&&S&&a(S,"arity")&&m.length!==S.arity&&u(m,"length",{value:S.arity});try{S&&a(S,"constructor")&&S.constructor?s&&u(m,"prototype",{writable:!1}):m.prototype&&(m.prototype=void 0)}catch{}var I=f(m);return a(I,"source")||(I.source=g(P,typeof T=="string"?T:"")),m};Function.prototype.toString=x(function(){return o(this)&&h(this).source||v(this)},"toString")},741:r=>{var i=Math.ceil,t=Math.floor;r.exports=Math.trunc||function(n){var o=+n;return(o>0?t:i)(o)}},3904:(r,i,t)=>{var e=t(4576),n=t(9039),o=t(9504),a=t(655),s=t(3802).trim,c=t(7452),v=o("".charAt),d=e.parseFloat,f=e.Symbol,h=f&&f.iterator,l=1/d(c+"-0")!==-1/0||h&&!n(function(){d(Object(h))});r.exports=l?function(p){var y=s(a(p)),g=d(y);return g===0&&v(y,0)==="-"?-0:g}:d},2360:(r,i,t)=>{var e=t(8551),n=t(6801),o=t(8727),a=t(421),s=t(397),c=t(4055),v=t(6119),d=">",f="<",h="prototype",l="script",u=v("IE_PROTO"),p=function(){},y=function(m){return f+l+d+m+f+"/"+l+d},g=function(m){m.write(y("")),m.close();var T=m.parentWindow.Object;return m=null,T},O=function(){var m=c("iframe"),T="java"+l+":",S;return m.style.display="none",s.appendChild(m),m.src=String(T),S=m.contentWindow.document,S.open(),S.write(y("document.F=Object")),S.close(),S.F},P,x=function(){try{P=new ActiveXObject("htmlfile")}catch{}x=typeof document<"u"?document.domain&&P?g(P):O():g(P);for(var m=o.length;m--;)delete x[h][o[m]];return x()};a[u]=!0,r.exports=Object.create||function(T,S){var I;return T!==null?(p[h]=e(T),I=new p,p[h]=null,I[u]=T):I=x(),S===void 0?I:n.f(I,S)}},6801:(r,i,t)=>{var e=t(3724),n=t(8686),o=t(4913),a=t(8551),s=t(5397),c=t(1072);i.f=e&&!n?Object.defineProperties:function(d,f){a(d);for(var h=s(f),l=c(f),u=l.length,p=0,y;u>p;)o.f(d,y=l[p++],h[y]);return d}},4913:(r,i,t)=>{var e=t(3724),n=t(5917),o=t(8686),a=t(8551),s=t(6969),c=TypeError,v=Object.defineProperty,d=Object.getOwnPropertyDescriptor,f="enumerable",h="configurable",l="writable";i.f=e?o?function(p,y,g){if(a(p),y=s(y),a(g),typeof p=="function"&&y==="prototype"&&"value"in g&&l in g&&!g[l]){var O=d(p,y);O&&O[l]&&(p[y]=g.value,g={configurable:h in g?g[h]:O[h],enumerable:f in g?g[f]:O[f],writable:!1})}return v(p,y,g)}:v:function(p,y,g){if(a(p),y=s(y),a(g),n)try{return v(p,y,g)}catch{}if("get"in g||"set"in g)throw new c("Accessors not supported");return"value"in g&&(p[y]=g.value),p}},7347:(r,i,t)=>{var e=t(3724),n=t(9565),o=t(8773),a=t(6980),s=t(5397),c=t(6969),v=t(9297),d=t(5917),f=Object.getOwnPropertyDescriptor;i.f=e?f:function(l,u){if(l=s(l),u=c(u),d)try{return f(l,u)}catch{}if(v(l,u))return a(!n(o.f,l,u),l[u])}},298:(r,i,t)=>{var e=t(2195),n=t(5397),o=t(8480).f,a=t(7680),s=typeof window=="object"&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],c=function(v){try{return o(v)}catch{return a(s)}};r.exports.f=function(d){return s&&e(d)==="Window"?c(d):o(n(d))}},8480:(r,i,t)=>{var e=t(1828),n=t(8727),o=n.concat("length","prototype");i.f=Object.getOwnPropertyNames||function(s){return e(s,o)}},3717:(r,i)=>{i.f=Object.getOwnPropertySymbols},2787:(r,i,t)=>{var e=t(9297),n=t(4901),o=t(8981),a=t(6119),s=t(2211),c=a("IE_PROTO"),v=Object,d=v.prototype;r.exports=s?v.getPrototypeOf:function(f){var h=o(f);if(e(h,c))return h[c];var l=h.constructor;return n(l)&&h instanceof l?l.prototype:h instanceof v?d:null}},4124:(r,i,t)=>{var e=t(9039),n=t(34),o=t(2195),a=t(5652),s=Object.isExtensible,c=e(function(){});r.exports=c||a?function(d){return!n(d)||a&&o(d)==="ArrayBuffer"?!1:s?s(d):!0}:s},1625:(r,i,t)=>{var e=t(9504);r.exports=e({}.isPrototypeOf)},1828:(r,i,t)=>{var e=t(9504),n=t(9297),o=t(5397),a=t(9617).indexOf,s=t(421),c=e([].push);r.exports=function(v,d){var f=o(v),h=0,l=[],u;for(u in f)!n(s,u)&&n(f,u)&&c(l,u);for(;d.length>h;)n(f,u=d[h++])&&(~a(l,u)||c(l,u));return l}},1072:(r,i,t)=>{var e=t(1828),n=t(8727);r.exports=Object.keys||function(a){return e(a,n)}},8773:(r,i)=>{var t={}.propertyIsEnumerable,e=Object.getOwnPropertyDescriptor,n=e&&!t.call({1:2},1);i.f=n?function(a){var s=e(this,a);return!!s&&s.enumerable}:t},2967:(r,i,t)=>{var e=t(6706),n=t(34),o=t(7750),a=t(3506);r.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var s=!1,c={},v;try{v=e(Object.prototype,"__proto__","set"),v(c,[]),s=c instanceof Array}catch{}return function(f,h){return o(f),a(h),n(f)&&(s?v(f,h):f.__proto__=h),f}}():void 0)},3179:(r,i,t)=>{var e=t(2140),n=t(6955);r.exports=e?{}.toString:function(){return"[object "+n(this)+"]"}},4270:(r,i,t)=>{var e=t(9565),n=t(4901),o=t(34),a=TypeError;r.exports=function(s,c){var v,d;if(c==="string"&&n(v=s.toString)&&!o(d=e(v,s))||n(v=s.valueOf)&&!o(d=e(v,s))||c!=="string"&&n(v=s.toString)&&!o(d=e(v,s)))return d;throw new a("Can't convert object to primitive value")}},5031:(r,i,t)=>{var e=t(7751),n=t(9504),o=t(8480),a=t(3717),s=t(8551),c=n([].concat);r.exports=e("Reflect","ownKeys")||function(d){var f=o.f(s(d)),h=a.f;return h?c(f,h(d)):f}},9167:(r,i,t)=>{var e=t(4576);r.exports=e},7750:(r,i,t)=>{var e=t(4117),n=TypeError;r.exports=function(o){if(e(o))throw new n("Can't call method on "+o);return o}},9472:(r,i,t)=>{var e=t(4576),n=t(8745),o=t(4901),a=t(4215),s=t(2839),c=t(7680),v=t(2812),d=e.Function,f=/MSIE .\./.test(s)||a==="BUN"&&function(){var h=e.Bun.version.split(".");return h.length<3||h[0]==="0"&&(h[1]<3||h[1]==="3"&&h[2]==="0")}();r.exports=function(h,l){var u=l?2:1;return f?function(p,y){var g=v(arguments.length,1)>u,O=o(p)?p:d(p),P=g?c(arguments,u):[],x=g?function(){n(O,this,P)}:O;return l?h(x,y):h(x)}:h}},687:(r,i,t)=>{var e=t(4913).f,n=t(9297),o=t(8227),a=o("toStringTag");r.exports=function(s,c,v){s&&!v&&(s=s.prototype),s&&!n(s,a)&&e(s,a,{configurable:!0,value:c})}},6119:(r,i,t)=>{var e=t(5745),n=t(3392),o=e("keys");r.exports=function(a){return o[a]||(o[a]=n(a))}},7629:(r,i,t)=>{var e=t(6395),n=t(4576),o=t(9433),a="__core-js_shared__",s=r.exports=n[a]||o(a,{});(s.versions||(s.versions=[])).push({version:"3.38.1",mode:e?"pure":"global",copyright:"© 2014-2024 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.38.1/LICENSE",source:"https://github.com/zloirock/core-js"})},5745:(r,i,t)=>{var e=t(7629);r.exports=function(n,o){return e[n]||(e[n]=o||{})}},8183:(r,i,t)=>{var e=t(9504),n=t(1291),o=t(655),a=t(7750),s=e("".charAt),c=e("".charCodeAt),v=e("".slice),d=function(f){return function(h,l){var u=o(a(h)),p=n(l),y=u.length,g,O;return p<0||p>=y?f?"":void 0:(g=c(u,p),g<55296||g>56319||p+1===y||(O=c(u,p+1))<56320||O>57343?f?s(u,p):g:f?v(u,p,p+2):(g-55296<<10)+(O-56320)+65536)}};r.exports={codeAt:d(!1),charAt:d(!0)}},3802:(r,i,t)=>{var e=t(9504),n=t(7750),o=t(655),a=t(7452),s=e("".replace),c=RegExp("^["+a+"]+"),v=RegExp("(^|[^"+a+"])["+a+"]+$"),d=function(f){return function(h){var l=o(n(h));return f&1&&(l=s(l,c,"")),f&2&&(l=s(l,v,"$1")),l}};r.exports={start:d(1),end:d(2),trim:d(3)}},4495:(r,i,t)=>{var e=t(9519),n=t(9039),o=t(4576),a=o.String;r.exports=!!Object.getOwnPropertySymbols&&!n(function(){var s=Symbol("symbol detection");return!a(s)||!(Object(s)instanceof Symbol)||!Symbol.sham&&e&&e<41})},8242:(r,i,t)=>{var e=t(9565),n=t(7751),o=t(8227),a=t(6840);r.exports=function(){var s=n("Symbol"),c=s&&s.prototype,v=c&&c.valueOf,d=o("toPrimitive");c&&!c[d]&&a(c,d,function(f){return e(v,this)},{arity:1})}},1296:(r,i,t)=>{var e=t(4495);r.exports=e&&!!Symbol.for&&!!Symbol.keyFor},1240:(r,i,t)=>{var e=t(9504);r.exports=e(1 .valueOf)},5610:(r,i,t)=>{var e=t(1291),n=Math.max,o=Math.min;r.exports=function(a,s){var c=e(a);return c<0?n(c+s,0):o(c,s)}},5397:(r,i,t)=>{var e=t(7055),n=t(7750);r.exports=function(o){return e(n(o))}},1291:(r,i,t)=>{var e=t(741);r.exports=function(n){var o=+n;return o!==o||o===0?0:e(o)}},8014:(r,i,t)=>{var e=t(1291),n=Math.min;r.exports=function(o){var a=e(o);return a>0?n(a,9007199254740991):0}},8981:(r,i,t)=>{var e=t(7750),n=Object;r.exports=function(o){return n(e(o))}},2777:(r,i,t)=>{var e=t(9565),n=t(34),o=t(757),a=t(5966),s=t(4270),c=t(8227),v=TypeError,d=c("toPrimitive");r.exports=function(f,h){if(!n(f)||o(f))return f;var l=a(f,d),u;if(l){if(h===void 0&&(h="default"),u=e(l,f,h),!n(u)||o(u))return u;throw new v("Can't convert object to primitive value")}return h===void 0&&(h="number"),s(f,h)}},6969:(r,i,t)=>{var e=t(2777),n=t(757);r.exports=function(o){var a=e(o,"string");return n(a)?a:a+""}},2140:(r,i,t)=>{var e=t(8227),n=e("toStringTag"),o={};o[n]="z",r.exports=String(o)==="[object z]"},655:(r,i,t)=>{var e=t(6955),n=String;r.exports=function(o){if(e(o)==="Symbol")throw new TypeError("Cannot convert a Symbol value to a string");return n(o)}},6823:r=>{var i=String;r.exports=function(t){try{return i(t)}catch{return"Object"}}},3392:(r,i,t)=>{var e=t(9504),n=0,o=Math.random(),a=e(1 .toString);r.exports=function(s){return"Symbol("+(s===void 0?"":s)+")_"+a(++n+o,36)}},7040:(r,i,t)=>{var e=t(4495);r.exports=e&&!Symbol.sham&&typeof Symbol.iterator=="symbol"},8686:(r,i,t)=>{var e=t(3724),n=t(9039);r.exports=e&&n(function(){return Object.defineProperty(function(){},"prototype",{value:42,writable:!1}).prototype!==42})},2812:r=>{var i=TypeError;r.exports=function(t,e){if(t<e)throw new i("Not enough arguments");return t}},8622:(r,i,t)=>{var e=t(4576),n=t(4901),o=e.WeakMap;r.exports=n(o)&&/native code/.test(String(o))},511:(r,i,t)=>{var e=t(9167),n=t(9297),o=t(1951),a=t(4913).f;r.exports=function(s){var c=e.Symbol||(e.Symbol={});n(c,s)||a(c,s,{value:o.f(s)})}},1951:(r,i,t)=>{var e=t(8227);i.f=e},8227:(r,i,t)=>{var e=t(4576),n=t(5745),o=t(9297),a=t(3392),s=t(4495),c=t(7040),v=e.Symbol,d=n("wks"),f=c?v.for||v:v&&v.withoutSetter||a;r.exports=function(h){return o(d,h)||(d[h]=s&&o(v,h)?v[h]:f("Symbol."+h)),d[h]}},7452:r=>{r.exports=`	
\v\f\r                　\u2028\u2029\uFEFF`},1629:(r,i,t)=>{var e=t(6518),n=t(235);e({target:"Array",proto:!0,forced:[].forEach!==n},{forEach:n})},5276:(r,i,t)=>{var e=t(6518),n=t(7476),o=t(9617).indexOf,a=t(4598),s=n([].indexOf),c=!!s&&1/s([1],1,-0)<0,v=c||!a("indexOf");e({target:"Array",proto:!0,forced:v},{indexOf:function(f){var h=arguments.length>1?arguments[1]:void 0;return c?s(this,f,h)||0:o(this,f,h)}})},3792:(r,i,t)=>{var e=t(5397),n=t(6469),o=t(6269),a=t(1181),s=t(4913).f,c=t(1088),v=t(2529),d=t(6395),f=t(3724),h="Array Iterator",l=a.set,u=a.getterFor(h);r.exports=c(Array,"Array",function(y,g){l(this,{type:h,target:e(y),index:0,kind:g})},function(){var y=u(this),g=y.target,O=y.index++;if(!g||O>=g.length)return y.target=null,v(void 0,!0);switch(y.kind){case"keys":return v(O,!1);case"values":return v(g[O],!1)}return v([O,g[O]],!1)},"values");var p=o.Arguments=o.Array;if(n("keys"),n("values"),n("entries"),!d&&f&&p.name!=="values")try{s(p,"name",{value:"values"})}catch{}},4554:(r,i,t)=>{var e=t(6518),n=t(8981),o=t(5610),a=t(1291),s=t(6198),c=t(4527),v=t(6837),d=t(1469),f=t(4659),h=t(4606),l=t(597),u=l("splice"),p=Math.max,y=Math.min;e({target:"Array",proto:!0,forced:!u},{splice:function(O,P){var x=n(this),m=s(x),T=o(O,m),S=arguments.length,I,L,W,A,D,B;for(S===0?I=L=0:S===1?(I=0,L=m-T):(I=S-2,L=y(p(a(P),0),m-T)),v(m+I-L),W=d(x,L),A=0;A<L;A++)D=T+A,D in x&&f(W,A,x[D]);if(W.length=L,I<L){for(A=T;A<m-L;A++)D=A+L,B=A+I,D in x?x[B]=x[D]:h(x,B);for(A=m;A>m-L+I;A--)h(x,A-1)}else if(I>L)for(A=m-L;A>T;A--)D=A+L-1,B=A+I-1,D in x?x[B]=x[D]:h(x,B);for(A=0;A<I;A++)x[A+T]=arguments[A+2];return c(x,m-L+I),W}})},9572:(r,i,t)=>{var e=t(9297),n=t(6840),o=t(3640),a=t(8227),s=a("toPrimitive"),c=Date.prototype;e(c,s)||n(c,s,o)},3110:(r,i,t)=>{var e=t(6518),n=t(7751),o=t(8745),a=t(9565),s=t(9504),c=t(9039),v=t(4901),d=t(757),f=t(7680),h=t(6933),l=t(4495),u=String,p=n("JSON","stringify"),y=s(/./.exec),g=s("".charAt),O=s("".charCodeAt),P=s("".replace),x=s(1 .toString),m=/[\uD800-\uDFFF]/g,T=/^[\uD800-\uDBFF]$/,S=/^[\uDC00-\uDFFF]$/,I=!l||c(function(){var D=n("Symbol")("stringify detection");return p([D])!=="[null]"||p({a:D})!=="{}"||p(Object(D))!=="{}"}),L=c(function(){return p("\uDF06\uD834")!=='"\\udf06\\ud834"'||p("\uDEAD")!=='"\\udead"'}),W=function(D,B){var $=f(arguments),X=h(B);if(!(!v(X)&&(D===void 0||d(D))))return $[1]=function(Q,Y){if(v(X)&&(Y=a(X,this,u(Q),Y)),!d(Y))return Y},o(p,null,$)},A=function(D,B,$){var X=g($,B-1),Q=g($,B+1);return y(T,D)&&!y(S,Q)||y(S,D)&&!y(T,X)?"\\u"+x(O(D,0),16):D};p&&e({target:"JSON",stat:!0,arity:3,forced:I||L},{stringify:function(B,$,X){var Q=f(arguments),Y=o(I?W:p,null,Q);return L&&typeof Y=="string"?P(Y,m,A):Y}})},2892:(r,i,t)=>{var e=t(6518),n=t(6395),o=t(3724),a=t(4576),s=t(9167),c=t(9504),v=t(2796),d=t(9297),f=t(3167),h=t(1625),l=t(757),u=t(2777),p=t(9039),y=t(8480).f,g=t(7347).f,O=t(4913).f,P=t(1240),x=t(3802).trim,m="Number",T=a[m],S=s[m],I=T.prototype,L=a.TypeError,W=c("".slice),A=c("".charCodeAt),D=function(Z){var U=u(Z,"number");return typeof U=="bigint"?U:B(U)},B=function(Z){var U=u(Z,"number"),K,J,z,nt,w,et,k,q;if(l(U))throw new L("Cannot convert a Symbol value to a number");if(typeof U=="string"&&U.length>2){if(U=x(U),K=A(U,0),K===43||K===45){if(J=A(U,2),J===88||J===120)return NaN}else if(K===48){switch(A(U,1)){case 66:case 98:z=2,nt=49;break;case 79:case 111:z=8,nt=55;break;default:return+U}for(w=W(U,2),et=w.length,k=0;k<et;k++)if(q=A(w,k),q<48||q>nt)return NaN;return parseInt(w,z)}}return+U},$=v(m,!T(" 0o1")||!T("0b1")||T("+0x1")),X=function(Z){return h(I,Z)&&p(function(){P(Z)})},Q=function(U){var K=arguments.length<1?0:T(D(U));return X(this)?f(Object(K),this,Q):K};Q.prototype=I,$&&!n&&(I.constructor=Q),e({global:!0,constructor:!0,wrap:!0,forced:$},{Number:Q});var Y=function(Z,U){for(var K=o?y(U):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,isFinite,isInteger,isNaN,isSafeInteger,parseFloat,parseInt,fromString,range".split(","),J=0,z;K.length>J;J++)d(U,z=K[J])&&!d(Z,z)&&O(Z,z,g(U,z))};n&&S&&Y(s[m],S),($||n)&&Y(s[m],T)},4185:(r,i,t)=>{var e=t(6518),n=t(3724),o=t(4913).f;e({target:"Object",stat:!0,forced:Object.defineProperty!==o,sham:!n},{defineProperty:o})},2811:(r,i,t)=>{var e=t(6518),n=t(2744),o=t(9039),a=t(34),s=t(3451).onFreeze,c=Object.freeze,v=o(function(){c(1)});e({target:"Object",stat:!0,forced:v,sham:!n},{freeze:function(f){return c&&a(f)?c(s(f)):f}})},9773:(r,i,t)=>{var e=t(6518),n=t(4495),o=t(9039),a=t(3717),s=t(8981),c=!n||o(function(){a.f(1)});e({target:"Object",stat:!0,forced:c},{getOwnPropertySymbols:function(d){var f=a.f;return f?f(s(d)):[]}})},6099:(r,i,t)=>{var e=t(2140),n=t(6840),o=t(3179);e||n(Object.prototype,"toString",o,{unsafe:!0})},8459:(r,i,t)=>{var e=t(6518),n=t(3904);e({global:!0,forced:parseFloat!==n},{parseFloat:n})},7764:(r,i,t)=>{var e=t(8183).charAt,n=t(655),o=t(1181),a=t(1088),s=t(2529),c="String Iterator",v=o.set,d=o.getterFor(c);a(String,"String",function(f){v(this,{type:c,string:n(f),index:0})},function(){var h=d(this),l=h.string,u=h.index,p;return u>=l.length?s(void 0,!0):(p=e(l,u),h.index+=p.length,s(p,!1))})},6761:(r,i,t)=>{var e=t(6518),n=t(4576),o=t(9565),a=t(9504),s=t(6395),c=t(3724),v=t(4495),d=t(9039),f=t(9297),h=t(1625),l=t(8551),u=t(5397),p=t(6969),y=t(655),g=t(6980),O=t(2360),P=t(1072),x=t(8480),m=t(298),T=t(3717),S=t(7347),I=t(4913),L=t(6801),W=t(8773),A=t(6840),D=t(2106),B=t(5745),$=t(6119),X=t(421),Q=t(3392),Y=t(8227),Z=t(1951),U=t(511),K=t(8242),J=t(687),z=t(1181),nt=t(9213).forEach,w=$("hidden"),et="Symbol",k="prototype",q=z.set,ut=z.getterFor(et),rt=Object[k],st=n.Symbol,dt=st&&st[k],ie=n.RangeError,le=n.TypeError,gt=n.QObject,Lt=S.f,it=I.f,Nt=m.f,ue=W.f,jt=a([].push),at=B("symbols"),vt=B("op-symbols"),de=B("wks"),mt=!gt||!gt[k]||!gt[k].findChild,Ft=function(G,N,j){var F=Lt(rt,N);F&&delete rt[N],it(G,N,j),F&&G!==rt&&it(rt,N,F)},Et=c&&d(function(){return O(it({},"a",{get:function(){return it(this,"a",{value:7}).a}})).a!==7})?Ft:it,St=function(G,N){var j=at[G]=O(dt);return q(j,{type:et,tag:G,description:N}),c||(j.description=N),j},ct=function(N,j,F){N===rt&&ct(vt,j,F),l(N);var V=p(j);return l(F),f(at,V)?(F.enumerable?(f(N,w)&&N[w][V]&&(N[w][V]=!1),F=O(F,{enumerable:g(0,!1)})):(f(N,w)||it(N,w,g(1,O(null))),N[w][V]=!0),Et(N,V,F)):it(N,V,F)},Ot=function(N,j){l(N);var F=u(j),V=P(F).concat(Ut(F));return nt(V,function(_){(!c||o(bt,F,_))&&ct(N,_,F[_])}),N},ve=function(N,j){return j===void 0?O(N):Ot(O(N),j)},bt=function(N){var j=p(N),F=o(ue,this,j);return this===rt&&f(at,j)&&!f(vt,j)?!1:F||!f(this,j)||!f(at,j)||f(this,w)&&this[w][j]?F:!0},wt=function(N,j){var F=u(N),V=p(j);if(!(F===rt&&f(at,V)&&!f(vt,V))){var _=Lt(F,V);return _&&f(at,V)&&!(f(F,w)&&F[w][V])&&(_.enumerable=!0),_}},Bt=function(N){var j=Nt(u(N)),F=[];return nt(j,function(V){!f(at,V)&&!f(X,V)&&jt(F,V)}),F},Ut=function(G){var N=G===rt,j=Nt(N?vt:u(G)),F=[];return nt(j,function(V){f(at,V)&&(!N||f(rt,V))&&jt(F,at[V])}),F};v||(st=function(){if(h(dt,this))throw new le("Symbol is not a constructor");var N=!arguments.length||arguments[0]===void 0?void 0:y(arguments[0]),j=Q(N),F=function(V){var _=this===void 0?n:this;_===rt&&o(F,vt,V),f(_,w)&&f(_[w],j)&&(_[w][j]=!1);var $t=g(1,V);try{Et(_,j,$t)}catch(Gt){if(!(Gt instanceof ie))throw Gt;Ft(_,j,$t)}};return c&&mt&&Et(rt,j,{configurable:!0,set:F}),St(j,N)},dt=st[k],A(dt,"toString",function(){return ut(this).tag}),A(st,"withoutSetter",function(G){return St(Q(G),G)}),W.f=bt,I.f=ct,L.f=Ot,S.f=wt,x.f=m.f=Bt,T.f=Ut,Z.f=function(G){return St(Y(G),G)},c&&(D(dt,"description",{configurable:!0,get:function(){return ut(this).description}}),s||A(rt,"propertyIsEnumerable",bt,{unsafe:!0}))),e({global:!0,constructor:!0,wrap:!0,forced:!v,sham:!v},{Symbol:st}),nt(P(de),function(G){U(G)}),e({target:et,stat:!0,forced:!v},{useSetter:function(){mt=!0},useSimple:function(){mt=!1}}),e({target:"Object",stat:!0,forced:!v,sham:!c},{create:ve,defineProperty:ct,defineProperties:Ot,getOwnPropertyDescriptor:wt}),e({target:"Object",stat:!0,forced:!v},{getOwnPropertyNames:Bt}),K(),J(st,et),X[w]=!0},9463:(r,i,t)=>{var e=t(6518),n=t(3724),o=t(4576),a=t(9504),s=t(9297),c=t(4901),v=t(1625),d=t(655),f=t(2106),h=t(7740),l=o.Symbol,u=l&&l.prototype;if(n&&c(l)&&(!("description"in u)||l().description!==void 0)){var p={},y=function(){var I=arguments.length<1||arguments[0]===void 0?void 0:d(arguments[0]),L=v(u,this)?new l(I):I===void 0?l():l(I);return I===""&&(p[L]=!0),L};h(y,l),y.prototype=u,u.constructor=y;var g=String(l("description detection"))==="Symbol(description detection)",O=a(u.valueOf),P=a(u.toString),x=/^Symbol\((.*)\)[^)]+$/,m=a("".replace),T=a("".slice);f(u,"description",{configurable:!0,get:function(){var I=O(this);if(s(p,I))return"";var L=P(I),W=g?T(L,7,-1):m(L,x,"$1");return W===""?void 0:W}}),e({global:!0,constructor:!0,forced:!0},{Symbol:y})}},1510:(r,i,t)=>{var e=t(6518),n=t(7751),o=t(9297),a=t(655),s=t(5745),c=t(1296),v=s("string-to-symbol-registry"),d=s("symbol-to-string-registry");e({target:"Symbol",stat:!0,forced:!c},{for:function(f){var h=a(f);if(o(v,h))return v[h];var l=n("Symbol")(h);return v[h]=l,d[l]=h,l}})},2259:(r,i,t)=>{var e=t(511);e("iterator")},2675:(r,i,t)=>{t(6761),t(1510),t(7812),t(3110),t(9773)},7812:(r,i,t)=>{var e=t(6518),n=t(9297),o=t(757),a=t(6823),s=t(5745),c=t(1296),v=s("symbol-to-string-registry");e({target:"Symbol",stat:!0,forced:!c},{keyFor:function(f){if(!o(f))throw new TypeError(a(f)+" is not a symbol");if(n(v,f))return v[f]}})},5700:(r,i,t)=>{var e=t(511),n=t(8242);e("toPrimitive"),n()},3500:(r,i,t)=>{var e=t(4576),n=t(7400),o=t(9296),a=t(235),s=t(6699),c=function(d){if(d&&d.forEach!==a)try{s(d,"forEach",a)}catch{d.forEach=a}};for(var v in n)n[v]&&c(e[v]&&e[v].prototype);c(o)},2953:(r,i,t)=>{var e=t(4576),n=t(7400),o=t(9296),a=t(3792),s=t(6699),c=t(687),v=t(8227),d=v("iterator"),f=a.values,h=function(u,p){if(u){if(u[d]!==f)try{s(u,d,f)}catch{u[d]=f}if(c(u,p,!0),n[p]){for(var y in a)if(u[y]!==a[y])try{s(u,y,a[y])}catch{u[y]=a[y]}}}};for(var l in n)h(e[l]&&e[l].prototype,l);h(o,"DOMTokenList")},5575:(r,i,t)=>{var e=t(6518),n=t(4576),o=t(9472),a=o(n.setInterval,!0);e({global:!0,bind:!0,forced:n.setInterval!==a},{setInterval:a})},4599:(r,i,t)=>{var e=t(6518),n=t(4576),o=t(9472),a=o(n.setTimeout,!0);e({global:!0,bind:!0,forced:n.setTimeout!==a},{setTimeout:a})},6031:(r,i,t)=>{t(5575),t(4599)}},C={};function R(r){var i=C[r];if(i!==void 0)return i.exports;var t=C[r]={exports:{}};return M[r].call(t.exports,t,t.exports,R),t.exports}R.g=function(){if(typeof globalThis=="object")return globalThis;try{return this||new Function("return this")()}catch{if(typeof window=="object")return window}}();var H={};return(()=>{var r=H;R(4185),r.default=o,R(2811);var i=n(R(6058)),t=n(R(3772)),e=R(5948);function n(a){return a&&a.__esModule?a:{default:a}}function o(a,s){(0,i.default)(function(c){if(!c)return s(null,new Error("Failed to load IMA SDK"));s(new t.default(a),null)},(0,e.makeNum)(a.timeout,6e3),!!a.debug)}o.vpaidMode=Object.freeze(t.default.vpaidMode)})(),H=H.default,H})())}(pt)),pt.exports}var Kt=Vt();const Wt=ft(Kt);class Ht extends HTMLElement{videoElement=null;videoElementId="";adPlayer=null;muteOnly=!1;resizeObserver=null;injectStyle(){const E=document.createElement("style");E.textContent=`
      :host {
        display: none;
      }
      :host(.visible) {
        display: flex;
      }
    `,this.shadowRoot?.appendChild(E)}constructor(){super()}connectedCallback(){this.attachShadow({mode:"open"}),this.injectStyle(),this.muteOnly=this.hasAttribute("mute-only");const E=this.getAttribute("ad-tag-url"),M=this.getAttribute("position")||"pre-roll";if(!E){console.error('UltraMediaAd: Missing "ad-tag-url" attribute.');return}const C={video:this.videoElement,displayContainer:this.shadowRoot,tag:E,adsRenderingOptions:{useStyledLinearAds:!0,useStyledNonLinearAds:!0}};if(!this.videoElement){const R=this.parentElement;if(this.videoElement=zt(R),!this.videoElement){console.error("UltraMediaAd: No compatible video element found in parent.");return}}this.resizeObserver=new ResizeObserver(this.handleResize.bind(this)),this.resizeObserver.observe(this),Wt(C,(R,H)=>{if(H){console.error("UltraMediaAd: Error initializing ad player",H);return}this.adPlayer=R,xt.forEach(r=>{R.on(r,i=>{const t=new CustomEvent(r,{bubbles:!0,composed:!0,detail:i});this.dispatchEvent(t)})}),this.videoElement&&(this.muteOnly?this.videoElement.muted=!0:this.videoElement?.pause()),this.classList.remove("visible"),xt.forEach(r=>{R.on(r,()=>{console.log("Ad event:",r)})}),R.on("ad_begin",()=>{this.classList.add("visible"),this.videoElement&&(this.muteOnly?this.videoElement.muted=!0:this.videoElement?.pause())}),R.on("ad_end",()=>{this.classList.remove("visible"),this.videoElement&&(this.muteOnly?this.videoElement.muted=!1:this.videoElement.play())}),R.on("error",()=>{this.classList.remove("visible"),this.videoElement&&(this.muteOnly?this.videoElement.muted=!1:this.videoElement.play())}),this.setupAd(M)})}static get observedAttributes(){return["video","model","ad-tag-url","position"]}attributeChangedCallback(E,M,C){if(E==="video"&&C){this.videoElementId=C;const R=document.getElementById(this.videoElementId);R?.nativeEl instanceof HTMLVideoElement?this.videoElement=R.nativeEl:R instanceof HTMLVideoElement?this.videoElement=R:(console.error(`UltraMediaAd: No compatible video element found with ID "${this.videoElementId}".`),this.videoElement=null)}}setupAd(E){E==="pre-roll"&&this.videoElement&&this.videoElement.addEventListener("play",this.playAdOnce.bind(this),{once:!0})}async playAdOnce(E){E.preventDefault(),this.videoElement&&(this.muteOnly?this.videoElement.muted=!1:this.videoElement.play());try{await this.adPlayer.play()}catch(M){console.error("UltraMediaAd: Error playing ad",M),this.videoElement?.play()}}handleResize(E){if(!this.adPlayer)return;const M=E[0],C=M.contentRect.width,R=M.contentRect.height;this.adPlayer.resize(C,R)}disconnectedCallback(){this.resizeObserver?.disconnect(),this.adPlayer?.destroy()}}const zt=b=>{if(!b)return null;if(b?.nativeEl instanceof HTMLVideoElement)return b.nativeEl;if(b instanceof HTMLVideoElement)throw new Error("UltraMediaAd: HTMLVideoElement elements cannot be used with <slot />.");return null},xt=["ad_begin","ad_end","ad_non_linear","ad_play","ad_play_intent","ad_request","ad_request_intent","ad_stop","ad_stop_intent","ads_manager","ads_manager_loaded","ads_rendering_settings","error","first_quartile","midpoint","third_quartile","click","volume_changed","volume_muted","skipped","started","complete","all_ads_completed"],Yt=["abort","canplay","canplaythrough","durationchange","emptied","encrypted","ended","error","loadeddata","loadedmetadata","loadstart","pause","play","playing","progress","ratechange","seeked","seeking","stalled","suspend","timeupdate","volumechange","waiting","waitingforkey","resize","enterpictureinpicture","leavepictureinpicture","webkitbeginfullscreen","webkitendfullscreen","webkitpresentationmodechanged"],yt=globalThis.document?.createElement("template");yt&&(yt.innerHTML=`
    <style>
      :host {
        display: inline-block;
        line-height: 0;
      }

      video,
      audio {
        max-width: 100%;
        max-height: 100%;
        min-width: 100%;
        min-height: 100%;
      }
    </style>
    <slot></slot>
  `);const At=(b,{tag:E,is:M})=>{const C=globalThis.document?.createElement(E,{is:M}),R=C?Pt(C):[];return class ht extends b{static Events=Yt;static template=yt;static skipAttributes=[];static#n;static get observedAttributes(){return ht.#l(),[...C?.constructor?.observedAttributes??[],"autopictureinpicture","disablepictureinpicture","disableremoteplayback","autoplay","controls","controlslist","crossorigin","loop","muted","playsinline","poster","preload","src"]}static#l(){if(this.#n)return;this.#n=!0;const r=new Set(this.observedAttributes);r.delete("muted");for(let i of R){if(i in this.prototype)continue;if(typeof C[i]=="function")this.prototype[i]=function(...e){this.#t();const n=()=>this.call?this.call(i,...e):this.nativeEl[i].apply(this.nativeEl,e);return this.loadComplete&&!this.isLoaded?this.loadComplete.then(n):n()};else{let e={get(){this.#t();let n=i.toLowerCase();if(r.has(n)){const o=this.getAttribute(n);return o===null?!1:o===""?!0:o}return this.get?.(i)??this.nativeEl?.[i]??this.#r[i]}};i!==i.toUpperCase()&&(e.set=async function(n){this.#t();let o=i.toLowerCase();if(r.has(o)){n===!0||n===!1||n==null?this.toggleAttribute(o,!!n):this.setAttribute(o,n);return}if(this.loadComplete&&!this.isLoaded&&await this.loadComplete,this.set){this.set(i,n);return}this.nativeEl[i]=n}),Object.defineProperty(this.prototype,i,e)}}}#a;#o;#s=!1;#e=!1;#i;#r;constructor(){super(),this.shadowRoot||(this.attachShadow({mode:"open"}),this.shadowRoot.append(this.constructor.template.content.cloneNode(!0))),this.load!==ht.prototype.load&&(this.loadComplete=new It)}get loadComplete(){return this.#o}set loadComplete(r){this.#e=!1,this.#o=r,r?.then(()=>{this.#e=!0})}get isLoaded(){return this.#e}get nativeEl(){return this.#i??this.shadowRoot.querySelector(E)??this.querySelector(E)}set nativeEl(r){this.#i=r}get defaultMuted(){return this.hasAttribute("muted")}set defaultMuted(r){this.toggleAttribute("muted",!!r)}get src(){return this.getAttribute("src")}set src(r){this.setAttribute("src",`${r}`)}get preload(){return this.getAttribute("preload")??this.nativeEl?.preload}set preload(r){this.setAttribute("preload",`${r}`)}async#t(){if(this.#a)return;this.#a=!0,this.#d(),this.#v();for(let t of R)this.#u(t);const r=new Map,i=this.shadowRoot.querySelector("slot:not([name])");i?.addEventListener("slotchange",()=>{const t=new Map(r);i.assignedElements().filter(e=>["track","source"].includes(e.localName)).forEach(async e=>{t.delete(e);let n=r.get(e);n||(n=e.cloneNode(),r.set(e,n)),this.loadComplete&&!this.isLoaded&&await this.loadComplete,this.nativeEl.append?.(n)}),t.forEach(e=>e.remove())});for(let t of this.constructor.Events)this.shadowRoot.addEventListener?.(t,e=>{e.target===this.nativeEl&&this.dispatchEvent(new CustomEvent(e.type,{detail:e.detail}))},!0)}#u(r){if(Object.prototype.hasOwnProperty.call(this,r)){const i=this[r];delete this[r],this[r]=i}}#d(){const r=document.createElement(E,{is:M});r.muted=this.hasAttribute("muted");for(let{name:i,value:t}of this.attributes)r.setAttribute(i,t);this.#r={};for(let i of Pt(r))this.#r[i]=r[i];r.removeAttribute("src"),r.load()}async#v(){if(this.loadComplete&&!this.isLoaded&&await this.loadComplete,!this.nativeEl){const r=document.createElement(E,{is:M});r.part=E,this.shadowRoot.append(r)}this.nativeEl.muted=this.hasAttribute("muted")}attributeChangedCallback(r,i,t){this.#t(),r==="src"&&this.load!==ht.prototype.load&&this.#f(),this.#c(r,i,t)}async#f(){this.#s&&(this.loadComplete=new It),this.#s=!0,await Promise.resolve(),await this.load(),this.loadComplete?.resolve(),await this.loadComplete}async#c(r,i,t){this.loadComplete&&!this.isLoaded&&await this.loadComplete,!["id","class",...this.constructor.skipAttributes].includes(r)&&(t===null?this.nativeEl.removeAttribute?.(r):this.nativeEl.setAttribute?.(r,t))}connectedCallback(){this.#t()}}};function Pt(b){let E=[];for(let M=Object.getPrototypeOf(b);M&&M!==HTMLElement.prototype;M=Object.getPrototypeOf(M))E.push(...Object.getOwnPropertyNames(M));return E}class It extends Promise{constructor(E=()=>{}){let M,C;super((R,H)=>{E(R,H),M=R,C=H}),this.resolve=M,this.reject=C}}const Xt=globalThis.document?At(HTMLElement,{tag:"video"}):class{};globalThis.document&&At(HTMLElement,{tag:"audio"});var tt=(b=>(b.HLS="hls",b.MP4="mp4",b.DASH="dash",b.AUDIO="audio",b))(tt||{});function Rt(b){const E=b.toLowerCase();if(E.includes(".m3u8"))return tt.HLS;if(E.includes(".mpd"))return tt.DASH;if(/\.(mp4|webm|ogg)/.test(E))return tt.MP4;if(/\.(mp3|wav|ogg)/.test(E))return tt.AUDIO}const Qt={LOG:"#353535",DFP:"#2A852B",METRICS:"#E67C17",ERROR:"#850000",TIME:"#356AFF",TIMEOUT:"#7f2fd8",HLS:"#a4c0Ff",DASH:"#4286f4",TEST:"#e100ff",WARNING:"#ff8c00"},Jt="[Ultra Media Element]",Mt=(b,E="LOG")=>{console.log(`%c${Jt}${E!=="LOG"?`[${E}]`:""} ${b}`,`background: ${Qt[E]}; color: #fff; font-size: 12px`)},Zt=(...b)=>{},ot=b=>typeof b>"u",Ct=(b,E,M,C=()=>!0,R=kt)=>{const H=i=>{if(!ot(window[i]))return window[i];if(window.exports&&window.exports[i])return window.exports[i];if(window.module&&window.module.exports&&window.module.exports[i])return window.module.exports[i]},r=H(E);return r&&C(r)?Promise.resolve(r):new Promise((i,t)=>{if(!ot(lt[b])){lt[b].push({resolve:i,reject:t});return}lt[b]=[{resolve:i,reject:t}];const e=a=>{lt[b].forEach(s=>s.resolve(a))},n=a=>{throw lt[b].forEach(s=>{s.reject(a)}),delete lt[b],a};if(!ot(M)){const a=window[M];window[M]=function(){ot(a)||a(),e(H(E))}}const o=window.System;o&&o.hasOwnProperty("import")?o.import(b).then(a=>e(a.default)).catch(n):R(b,()=>{ot(M)&&e(H(E))},n)})},kt=(b,E,M=Zt)=>{const C=document.createElement("script");C.src=b,C.onload=E,C.onerror=M;const R=document.getElementsByTagName("script")[0];R.parentNode?.insertBefore(C,R)},lt={};class qt{constructor(E){this.element=E,Mt("Powered by Hls.js"),this.nativeEl=E,this.onReady=new Promise((M,C)=>{this.setup().then(M).catch(C)})}nativeEl;onReady;Hls;hls;sdkSrc="https://cdn.jsdelivr.net/npm/hls.js@latest/dist/hls.min.js";config={};async setup(){ot(this.Hls)&&(this.Hls=await Ct(this.sdkSrc,"Hls")),this.hls=new this.Hls(this.config),this.hls.attachMedia(this.nativeEl)}destroy(){this.hls&&(this.hls.destroy(),this.hls=null)}load(E){this.Hls&&(this.Hls?.isSupported()?this.hls.loadSource(E):this.nativeEl.canPlayType("application/vnd.apple.mpegurl")?this.nativeEl.src=E:console.error("HLS não suportado no navegador."))}}class _t{constructor(E){this.element=E,this.onReady=Promise.resolve()}onReady;load(E){this.element.src=E}destroy(){this.element.src=""}}class te{constructor(E){this.element=E,Mt("Powered by dash.js"),this.nativeEl=E,this.onReady=new Promise((M,C)=>{this.setup().then(M).catch(C)})}nativeEl;onReady;dashjs;player;sdkSrc="https://cdn.jsdelivr.net/npm/dashjs@latest/dist/dash.all.min.js";config={streaming:{abr:{autoSwitchBitrate:!0}}};async setup(){ot(this.dashjs)&&(this.dashjs=await Ct(this.sdkSrc,"dashjs")),this.player=this.dashjs.MediaPlayer().create(),this.player.initialize(this.nativeEl,null,!0),this.player.updateSettings(this.config)}load(E){this.player&&this.player.attachSource(E)}destroy(){this.player&&(this.player.destroy(),this.player=null)}}class ee{constructor(E){this.element=E,this.onReady=Promise.resolve()}onReady;load(E){this.element.src=E}destroy(){this.element.src=""}}const re={[tt.HLS]:"hls.js",[tt.MP4]:"video/mp4",[tt.DASH]:"dash.js",[tt.AUDIO]:"audio/mp3"},ne=new Map([["hls.js",b=>new qt(b)],["video/mp4",b=>new _t(b)],["dash.js",b=>new te(b)],["audio/mp3",b=>new ee(b)]]);function ae(b){const E=b.dataset?.type,M={"hls.js":tt.HLS,"dash.js":tt.DASH,"video/mp4":tt.MP4,"audio/mp3":tt.AUDIO};return E?M[E]:void 0}class oe{static create({src:E,element:M,formats:C}){const R=this.resolveEngine(E,C??re),H=ne.get(R);if(!H)throw new Error(`No engine registered for: ${R}`);M.dataset.type=R;const r=H(M);return r.onReady.then(()=>r.load(E)),r}static resolveEngine(E,M){const C=Rt(E);if(!C)throw new Error(`Unsupported media source: ${E}`);const R=M[C];if(!R)throw new Error(`Format ${C} is not configured in formats`);return R}}class se extends Xt{player=null;static skipAttributes=["src"];isLive=!1;constructor(){super()}async connectedCallback(){super.connectedCallback?.()}static get observedAttributes(){return[...super.observedAttributes??[],"live"]}async attributeChangedCallback(E,M,C){if(super.attributeChangedCallback?.(E,M,C),console.log(`UltraMediaElement: attributeChangedCallback called for ${E} from ${M} to ${C}`),E==="src"&&M!==C){this.loadComplete&&!this.isLoaded&&await this.loadComplete;const R=this.getCurrentFormat(),H=Rt(C??"");R!==H&&this.destroyPlayer(),this.player&&R===H?this.player.load(C):this.initializePlayer()}}initializePlayer(){if(!this.nativeEl||!this.src){console.warn("[Ultra Media Element] nativeEl or src not available yet");return}this.player=oe.create({src:this.src,element:this.nativeEl})}async changeSource(E){if(!E){console.warn("[Ultra Media Element] Invalid source");return}this.setAttribute("src",E)}getCurrentFormat(){return this.nativeEl?ae(this.nativeEl):void 0}destroyPlayer(){this.player?.destroy&&this.player.destroy(),this.player=null}}const Dt=(b,E)=>{globalThis.customElements&&!globalThis.customElements.get(b)&&globalThis.customElements.define(b,E)};Dt("ultra-media",se),Dt("ultra-media-ad",Ht)});
//# sourceMappingURL=ultra-media-element.umd.js.map
